## ê¸°ë³¸ í…ŒìŠ¤íŠ¸ êµ¬ì¡°

### describe

- í…ŒìŠ¤íŠ¸ suite ë¥¼ ê·¸ë£¹í™” í•˜ëŠ” ë©”ì„œë“œ
- ê´€ë ¨ëœ í…ŒìŠ¤íŠ¸ë“¤ì„ í•˜ë‚˜ë¡œ ë¬¶ì–´ì„œ êµ¬ì¡°í™” í•  ìˆ˜ ìˆìŒ
- ì²« ë²ˆì§¸ íŒŒë¼ë¯¸í„°ëŠ” í…ŒìŠ¤íŠ¸ì— ëŒ€í•œ ì„¤ëª…ì„ ê¸°ì…í•  ìˆ˜ ìˆëŠ” string íƒ€ì…
- ë‘ ë²ˆì§¸ íŒŒë¼ë¯¸í„°ëŠ” ê°œë³„ í…ŒìŠ¤íŠ¸ë“¤ì„ í¬í•¨í•˜ëŠ” callback function

### test , it

- ê°œë³„ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì •ì˜, ë™ì¼í•œ ê¸°ëŠ¥ì„ í•˜ë©° it ì´ ë” BDD(Behavior-Driven Development) ìŠ¤íƒ€ì¼ì— ê°€ê¹ë‹¤ê³  í•œë‹¤
- ì²« ë²ˆì§¸ íŒŒë¼ë¯¸í„°ëŠ” í…ŒìŠ¤íŠ¸ ì„¤ëª… (string íƒ€ì…)
- ë‘ ë²ˆì§¸ëŠ” ì‹¤ì œ í…ŒìŠ¤íŠ¸ ë¡œì§ì„ ë‹´ì€ í•¨ìˆ˜

## Assertion ë©”ì„œë“œ

- Assertionì€ í”„ë¡œê·¸ë˜ë°ì—ì„œ "ì´ ê°’ì€ ë°˜ë“œì‹œ ì´ë˜ì•¼ í•œë‹¤"ë¼ê³  ì£¼ì¥í•˜ëŠ” ê²ƒ

### expect

- Jestì˜ í•µì‹¬ ë©”ì„œë“œë¡œ, í…ŒìŠ¤íŠ¸í•  ê°’ì„ ë°›ì•„ì„œ ë§¤ì²˜(matcher)ì™€ í•¨ê»˜ ì‚¬ìš©
- **ëª¨ë“  ì–´ì„¤ì…˜ì€ expect()ë¡œ ì‹œì‘**

```javascript
function add(num1, num2) {
  return num1 + num2;
}

describe("example", () => {
  test("adds 1 + 2 to equal 3", () => {
    expect(add(1, 2)).toBe(3);
    // or
    expect(add(1, 2)).toEqual(3);
  });
});
```

### toBe

- ì›ì‹œ ê°’ì˜ ì •í™•í•œ ì¼ì¹˜ë¥¼ í™•ì¸
- Object.is ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¹„êµí•˜ë¯€ë¡œ ì°¸ì¡° íƒ€ì…ì—ì„œëŠ” ê°™ì€ ê°ì²´ì¸ì§€ í™•ì¸ (ì •í™•í•˜ê²ŒëŠ” ê°™ì€ ì£¼ì†Œì¸ì§€ í™•ì¸)

### toEqual

- ê°ì²´ë‚˜ ë°°ì—´ì˜ ê¹Šì€ ë¹„êµë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤. ê°’ì´ ê°™ë‹¤ë©´ ì„œë¡œ ë‹¤ë¥¸ ê°ì²´ì—¬ë„ í†µê³¼í•©ë‹ˆë‹¤.

### toBeTruthy, toBeFalsy

- boolean ì»¨í…ìŠ¤íŠ¸ì—ì„œì˜ ì°¸/ê±°ì§“ì„ í™•ì¸í•©ë‹ˆë‹¤.
- toBeTruthyëŠ” ifë¬¸ì—ì„œ trueë¡œ í‰ê°€ë˜ëŠ” ê°’ë“¤, toBeFalsyëŠ” falseë¡œ í‰ê°€ë˜ëŠ” ê°’ë“¤ì„ í™•ì¸

### toBeNull, toBeUndefined, toBeDefined

- null, undefined, ì •ì˜ëœ ê°’ì¸ì§€ í™•ì¸

### toContain

- ë°°ì—´ì´ë‚˜ ë¬¸ìì—´ì— íŠ¹ì • í•­ëª©ì´ í¬í•¨ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸

### toThrow

- í•¨ìˆ˜ê°€ ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¤ëŠ”ì§€ í™•ì¸
- íŠ¹ì • ì—ëŸ¬ ë©”ì‹œì§€ë‚˜ ì—ëŸ¬ íƒ€ì…ë„ í™•ì¸ ê°€ëŠ¥

## ìˆ«ì ë¹„êµ ë©”ì„œë“œ

### toBeGreaterThan, toBeGreaterThanOrEqual, toBeLessThan, toBeLessThanOrEqual

### toBeCloseTo

- ë¶€ë™ì†Œìˆ˜ì  ìˆ«ìì˜ ê·¼ì‚¬ê°’ì„ ë¹„êµí•  ë•Œ ì‚¬ìš©, ë¶€ë™ì†Œìˆ˜ì  ì—°ì‚°ì˜ ì •ë°€ë„ ë¬¸ì œë¥¼ í•´ê²°í•¨

## ë¬¸ìì—´ ë§¤ì¹˜ ë©”ì„œë“œ

### toMatch

- ì •ê·œí‘œí˜„ì‹ì´ë‚˜ ë¬¸ìì—´ íŒ¨í„´ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸

## ë°°ì—´ê³¼ ê°ì²´ ë§¤ì¹˜ ë©”ì„œë“œ

### toHaveLength

- ë°°ì—´ì´ë‚˜ ë¬¸ìì—´ì˜ ê¸¸ì´ë¥¼ í™•ì¸

### toHaveProperty

- ê°ì²´ê°€ íŠ¹ì • í”„ë¡œí¼í‹°ë¥¼ ê°€ì§€ê³  ìˆëŠ”ì§€, ê·¸ë¦¬ê³  ê·¸ ê°’ì´ ì˜ˆìƒê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸

### toMatchObject

- ê°ì²´ê°€ ë‹¤ë¥¸ ê°ì²´ì˜ í”„ë¡œí¼í‹°ë“¤ì„ í¬í•¨í•˜ê³  ìˆëŠ”ì§€ í™•ì¸

## ë¹„ë™ê¸° í…ŒìŠ¤íŠ¸ ë©”ì„œë“œ

### resolves, rejects

- Promise í…ŒìŠ¤íŠ¸ ì‹œ ì‚¬ìš©, resolve ë˜ê±°ë‚˜ reject ë˜ëŠ”ì§€ í™•ì¸

```javascript
// resolves
test("should success", async () => {
  await expect(somePromise()).resolves.toBe(value);
});

// rejects
test("should fail", async () => {
  await expect(somePromise()).rejects.toThrow("Error");
});
```

## Mocking ë©”ì„œë“œ

### jest.fn

- Mock í•¨ìˆ˜ë¥¼ ìƒì„±
- í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ì—ˆëŠ”ì§€, ì–´ë–¤ ë§¤ê°œë³€ìˆ˜ë¡œ í˜¸ì¶œë˜ì—ˆëŠ”ì§€ ë“±ì„ ì¶”ì  ê°€ëŠ¥

### jset.mock

- ëª¨ë“ˆ ì „ì²´ë¥¼ ëª¨í‚¹
- ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë‚˜ ë‹¤ë¥¸ ëª¨ë“ˆì˜ ë™ì‘ì„ ê°€ì§œë¡œ ëŒ€ì²´ ê°€ëŠ¥

### jest.spyOn

- ê¸°ì¡´ ê°ì²´ì˜ ë©”ì„œë“œë¥¼ ê°ì‹œí•˜ê±°ë‚˜ ëª¨í‚¹ ( Proxy ?? )

## ìƒëª…ì£¼ê¸° ë©”ì„œë“œ

### beforeEach, afterEach

- ê° í…ŒìŠ¤íŠ¸ ì „í›„ì— ì‹¤í–‰
- í…ŒìŠ¤íŠ¸ í™˜ê²½ì„ ì´ˆê¸°í™”í•˜ê±°ë‚˜ ì •ë¦¬ í•  ë•Œ ì‚¬ìš©

### beforeAll, afterAll

- ëª¨ë“  í…ŒìŠ¤íŠ¸ ì „í›„ì— í•œ ë²ˆì”© ì‹¤í–‰
- ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì„¤ì •ì´ë‚˜ ì„œë²„ ì‹œì‘/ì¢…ë£Œ ê°™ì€ ì‘ì—…ì— ì‚¬ìš©

## í…ŒìŠ¤íŠ¸ ì œì–´ ë©”ì„œë“œ

### skip , test.skip

- íŠ¹ì • í…ŒìŠ¤íŠ¸ë¥¼ ê±´ë„ˆë›¸ ë•Œ ì‚¬ìš©

### only, test.only

- í•´ë‹¹ í…ŒìŠ¤íŠ¸ë§Œ ì‹¤í–‰í•  ë•Œ ì‚¬ìš©

### timeout

- í…ŒìŠ¤íŠ¸ì˜ íƒ€ì„ì•„ì›ƒ ì‹œê°„ì„ ì„¤ì •

## ğŸ’¥ BDD (Behavior-Driven Development) ë€ ë¬´ì—‡?

- "í–‰ë™ ì£¼ë„ ê°œë°œ" , ì†Œí”„íŠ¸ì›¨ì–´ê°€ ì–´ë–»ê²Œ ë™ì‘í•´ì•¼ í•˜ëŠ”ì§€ì— ì´ˆì²¨ì„ ë§ì¶˜ ê°œë°œ ë°©ë²•ë¡ 
- TDD ì—ì„œ ë°œì „í•œ ê°œë…ìœ¼ë¡œ ê¸°ìˆ ì ì¸ í…ŒìŠ¤íŠ¸ë³´ë‹¤ëŠ” ì‚¬ìš©ìì˜ ê´€ì ì—ì„œ ì†Œí”„íŠ¸ì›¨ì–´ì˜ í–‰ë™ì„ ì„¤ëª…
- BDD ìŠ¤íƒ€ì¼ì€ ì½”ë“œë¥¼ ì½ëŠ” ì‚¬ëŒì´ ë¬´ì—‡ì„ í…ŒìŠ¤íŠ¸í•˜ëŠ”ì§€, ì™œ í…ŒìŠ¤íŠ¸í•˜ëŠ”ì§€ë¥¼ ì‰½ê²Œ ì´í•´í•  ìˆ˜ ìˆê²Œ í•´ì¤Œ
- íŠ¹íˆ ë¹„ê°œë°œìë„ í…ŒìŠ¤íŠ¸ ëª…ì„¸ë¥¼ ì½ê³  ì´í•´í•  ìˆ˜ ìˆì–´ì„œ, ìš”êµ¬ì‚¬í•­ê³¼ ì‹¤ì œ êµ¬í˜„ ì‚¬ì´ì˜ ê°„ê·¹ì„ ì¤„ì´ëŠ” ë° ë„ì›€

- **BDD ìŠ¤íƒ€ì¼ì˜ ì–¸ì–´ êµ¬ì¡°**
- Given : ì£¼ì–´ì§„ ìƒí™©ì´ë‚˜ ì¡°ê±´
- When : íŠ¹ì • í–‰ë™ì´ë‚˜ ì´ë²¤íŠ¸ê°€ ë°œìƒí•  ë•Œ
- Then : ê¸°ëŒ€ë˜ëŠ” ê²°ê³¼

- Jestì—ì„œ **it**ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ BDD ìŠ¤íƒ€ì¼ì— ê°€ê¹ë‹¤ê³  í•œ ì´ìœ ëŠ”, **it**ì´ ë” ìì—°ìŠ¤ëŸ¬ìš´ ë¬¸ì¥ í˜•íƒœë¡œ í…ŒìŠ¤íŠ¸ë¥¼ ì„¤ëª…í•˜ê¸° ë•Œë¬¸ ( ë³„ë¡œ ì™€ë‹¿ì§€ëŠ” ì•ŠìŒ.. )

```javascript
// TDD/ ì¼ë°˜ì ì¸ ìŠ¤íƒ€ì¼
describe("Calculator", () => {
  test("adds 1 + 2 to equal 3", () => {
    expect(add(1, 2)).toBe(3);
  });
});

// BDD
describe("Calculator", () => {
  it("should return 3 when adding 1 and 2", () => {
    expect(add(1, 2)).toBe(3);
  });
});
// it should return 3 when adding 1 and 2 ...
```

### ë” êµ¬ì²´ì ì¸ BDD ìŠ¤íƒ€ì¼ ì˜ˆë¬¸

```javascript
describe("User login", () => {
  describe("when user provides valid credentials", () => {
    it("should successfully log in", () => {
      // Given: ìœ íš¨í•œ ì‚¬ìš©ì ì •ë³´ê°€ ìˆê³ 
      const user = { email: "test@example.com", password: "password123" };

      // When: ë¡œê·¸ì¸ì„ ì‹œë„í•˜ë©´
      const result = login(user);

      // Then: ì„±ê³µì ìœ¼ë¡œ ë¡œê·¸ì¸ë˜ì–´ì•¼ í•œë‹¤
      expect(result.success).toBe(true);
      expect(result.token).toBeDefined();
    });
  });

  describe("when user provides invalid credentials", () => {
    it("should return an error message", () => {
      // Given: ì˜ëª»ëœ ì‚¬ìš©ì ì •ë³´ê°€ ìˆê³ 
      const user = { email: "test@example.com", password: "wrongpassword" };

      // When: ë¡œê·¸ì¸ì„ ì‹œë„í•˜ë©´
      const result = login(user);

      // Then: ì—ëŸ¬ ë©”ì‹œì§€ê°€ ë°˜í™˜ë˜ì–´ì•¼ í•œë‹¤
      expect(result.success).toBe(false);
      expect(result.error).toBe("Invalid credentials");
    });
  });
});
```
